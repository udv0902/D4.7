{% extends 'news_portal/base.html' %}

{% block content %}
<h1>{{ title }}</h1>

<!--# чтобы форма корректно работала с загрузкой изображений прописывается атрибут enctype-->
<form action="{% url 'add_page' %}" method="post" enctype="multipart/form-data">
<!--    # этот тэг служит для защиты данных от CSRF атак путем сопоставления токенов генерируемых django-->
    {% csrf_token %}
<!--    <p><label class="form-label" for="{{form.title.id_for_label}}">{{form.title.label}}:</label>{{form.title}}</p>-->
<!--    <div class="form-error">{{form.title.errors}}</div>-->

<!--    отображать ошибки не связанные с полями-->
    <div class="form-error">{{form.non_field_errors}}</div>

    {% for f in form %}
    <p><label class="form-label" for="{{f.id_for_label}}">{{f.label}}:</label>{{f}}</p>
    <div class="form-error">{{f.errors}}</div>
    {%endfor%}
    <button type="submit">Добавить</button>
</form>
{% endblock %}
